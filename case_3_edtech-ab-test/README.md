# A/B‑тест персонализированной карусели курсов (EdTech)

## Обзор проекта

Данный репозиторий содержит финальный проект по аналитике данных. Цель проекта — спроектировать и аналитически обосновать A/B‑эксперимент для оценки влияния персонализированной карусели курсов «Вам понравится» на поведение пользователей образовательной платформы.

Проект сфокусирован на **разведочном анализе данных (EDA), проверке качества логов, выборе корректных метрик и проектировании эксперимента**. Фактические результаты A/B‑теста не анализируются, так как в предоставленных данных отсутствует разбиение пользователей на экспериментальные группы.

---

## Структура проекта

```
case_3_edtech-ab-test/
├── data/
│   ├── raw/
│   │   └── edtech_events.csv
│   └── processed/
│       └── funnel_user_carousel.csv
├── notebooks/
│   ├── 1_exploratory_analysis.ipynb
│   └── 2_experiment_design.ipynb
├── requirements.txt
└── README.md
```

---

## Описание данных

Исходный датасет `edtech_events.csv` представляет собой лог пользовательских событий со следующей структурой:

* `dt` — временная метка события
* `client_id` — идентификатор пользователя
* `course_id` — идентификатор курса
* `event_type` — тип события: `view_carousel`, `click_course`, `enroll`, `pay`
* `price` — сумма оплаты (только для событий `pay`)

Данные охватывают период **01.04.2025 – 29.04.2025** и содержат информацию о **96 пользователях**. Пользовательская активность крайне низкая: большинство пользователей совершили только одно событие за весь период наблюдения.

---

## Разведочный анализ данных (EDA)

Разведочный анализ выполнен в ноутбуке `1_exploratory_analysis.ipynb` и включает:

* проверку качества данных (типы, пропуски, дубликаты);
* анализ выбросов в стоимости курсов;
* проверку корректности логирования событий;
* анализ логических нарушений воронки (view → click → enroll → pay).

### Ключевые выводы EDA

* Данные характеризуются высокой разреженностью: подавляющее большинство пользователей имеют только одно событие.
* Обнаружены логические нарушения последовательности воронки, что указывает на альтернативные пользовательские пути или особенности логирования.
* **Корректный уровень агрегации для A/B‑теста — уровень пользователя (user‑level).**
* Использование агрегации user‑day признано методологически некорректным, так как приводит к искусственному увеличению размера выборки и искажению дисперсий ratio‑метрик.
* В логах карусели отсутствуют события оплаты, поэтому метрики, связанные с выручкой (AOV, ARPU), не могут быть количественно оценены на текущих данных.

Результатом этапа EDA является очищенный пользовательский датасет `funnel_user_carousel.csv`, пригодный для анализа поведенческих метрик.

---

## Дизайн эксперимента

Проектирование A/B‑теста представлено в ноутбуке `2_experiment_design.ipynb`.

### Цель эксперимента

Оценить, увеличивает ли персонализированная карусель курсов вовлечённость пользователей и конверсию в запись на курс.

### Метрики

* **Ключевая метрика:**

  * `CR_enroll` — конверсия в запись на курс после клика по карточке курса.

* **Вспомогательные метрики:**

  * `CTR` — кликабельность карусели;
  * `AOV` — средний чек (гипотетическая метрика);
  * `ARPU` — выручка на пользователя (гипотетическая метрика).

### Допущения

* Пользователи случайным образом и равномерно распределяются между контрольной и тестовой группами.
* Поведение пользователей стационарно в течение эксперимента.
* Отсутствует влияние пользователей друг на друга (no interference).
* Логирование событий является корректным и полным.

### Ограничения эксперимента

* В эксперименте участвует не более 20% пользовательского трафика.
* Длительность эксперимента — 7 дней.
* Целевой минимальный детектируемый эффект (MDE) для ключевой метрики — около 2,5%.

### Baseline и MDE

Baseline‑оценки и дисперсии рассчитываются на основе исторических данных по карусели. В связи с отсутствием событий оплаты, метрики AOV и ARPU рассматриваются исключительно на уровне гипотезы. Расчёты MDE следует интерпретировать как ориентировочные.

---

## Финальный вывод по проекту

В рамках проекта был выполнен полный цикл аналитической подготовки A/B‑теста в условиях ограниченных и разреженных данных.

На этапе EDA были выявлены ограничения качества данных, определён корректный уровень агрегации и обоснована применимость поведенческих метрик. На основе этих выводов был спроектирован статистически корректный A/B‑эксперимент с чётко зафиксированными метриками, допущениями и бизнес‑ограничениями.

Проект демонстрирует методологически корректный подход к подготовке эксперимента и может быть использован как основа для запуска реального A/B‑теста после обеспечения корректного логирования событий оплаты и достаточного объёма данных.

---

## Как запустить проект

1. Клонировать репозиторий
2. Создать виртуальное окружение
3. Установить зависимости:

```bash
pip install -r requirements.txt
```

4. Открыть ноутбуки в Jupyter Notebook или Jupyter Lab

---
Почему тест нельзя провести на этих данных

Доступные лог-данные содержат крайне низкую пользовательскую активность и фактически не включают конверсий в оплату среди пользователей, взаимодействовавших с каруселью. Это делает невозможной корректную оценку дисперсий ключевых бизнес-метрик (CR_enroll, AOV, ARPU) и проведение статистически обоснованного A/B-теста. В рамках проекта данные используются исключительно для EDA и проектирования эксперимента.

Логика аналитического пайплайна

event log → user-level funnel → расчёт метрик → design of experiment
